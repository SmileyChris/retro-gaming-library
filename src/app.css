@import "tailwindcss";

@theme {
  --font-retro: "Press Start 2P", cursive;
  --font-modern: "Inter", sans-serif;
}

/* Custom Utilities */
.retro-font {
  font-family: var(--font-retro);
}

.modern-font {
  font-family: var(--font-modern);
}

.game-card {
  transition: border-color 0.2s ease;
  view-transition-class: game-card-transition;
}

.box-art {
  aspect-ratio: 1 / 1.2;
  background-size: cover;
  background-position: center;
}

.box-art img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.scanlines {
  background: repeating-linear-gradient(
    0deg,
    rgba(0, 0, 0, 0.1),
    rgba(0, 0, 0, 0.1) 1px,
    transparent 1px,
    transparent 2px
  );
}

@keyframes flicker {
  0%, 100% { opacity: 1; }
  92% { opacity: 0.95; }
  94% { opacity: 1; }
}

.crt-flicker {
  animation: flicker 0.15s infinite;
}

.fav-btn {
  transition: opacity 0.2s ease;
}

.fav-btn.active {
  animation: pulse 0.3s ease;
}

@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.3); }
}

/* Random game highlight */
.random-highlight-base {
  z-index: 10;
  position: relative;
}

@keyframes randomPick {
  0% { transform: scale(1); }
  5% { transform: scale(1.05); }
  50% { transform: scale(1.02); }
  100% { transform: scale(1); }
}

@keyframes randomPickGlow {
  0% { box-shadow: 0 0 0 0 rgba(168, 85, 247, 0.8); }
  5% { box-shadow: 0 0 30px 10px rgba(168, 85, 247, 0.8); }
  50% { box-shadow: 0 0 20px 5px rgba(168, 85, 247, 0.6); }
  100% { box-shadow: 0 0 15px 3px rgba(168, 85, 247, 0.5); }
}

@keyframes fadeOut {
  0% { opacity: 1; }
  3% { opacity: 0.15; }
  25% { opacity: 0.15; }
  100% { opacity: 1; }
}

/* Random button spin */
@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.spin-once {
  animation: spin 0.5s ease-out;
}

/* View transition classes for game cards */
::view-transition-group(.game-card-transition) {
  animation-duration: 0.25s;
  animation-timing-function: ease-out;
}

::view-transition-old(.game-card-transition) {
  animation: fade-out 0.15s ease-out;
}

::view-transition-new(.game-card-transition) {
  animation: fade-in 0.25s ease-out;
}

@keyframes fade-out {
  from { opacity: 1; }
  to { opacity: 0; }
}

@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* Game detail view transitions */
::view-transition-group(*) {
  animation-duration: 0.25s;
  animation-timing-function: ease-out;
}

/* View transition names using CSS custom properties */
.vt-game-image {
  view-transition-name: var(--vt-image-name);
}

.vt-game-title {
  view-transition-name: var(--vt-title-name);
}

.vt-random-btn {
  view-transition-name: random-btn;
}

.vt-search-box {
  view-transition-name: search-box;
}
